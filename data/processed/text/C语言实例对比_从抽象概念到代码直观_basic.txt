C语言实例对比：从抽象概念到代码直观

C语言实例对比：从抽象概念到代码直观

(北京邮电大学计算机学院，北京，100876)

摘 要：本文从程序设计语言实用化的角度出发，使用实例对比的方法，将C语言中涉及软件

工程而又容易被忽视的抽象概念，如可读性、健壮性、编码风格、设计思路等进行抽象到具体比较

分析。明确了C语言中语法规则学习的目标，为C语言的应用奠定良好的基础。

关键词：比较法；C语言；可读性；健壮性；编码风格

中图分类号：TP312 文献标识码：A

C语言是计算机、信息类各专业的必修基础课，通常开设于计算机导论等课程之后。虽然学

生有了计算机的基础知识，但对于初次接触计算机编程语言的学生而言，C语言课程仍然具有一

定的学习难度与挑战。这些难点与挑战主要表现在：如何将程序思想转化为C语言的代码，也就

是如何使用语言进行一般问题求解的过程。此外，C语言本身有难于理解的地方，如指针。除此

之外，编写代码风格问题，程序设计的健壮性、可读性是教学中十分重要但又容易忽略的问题。

到目前为止，不少计算机教育的专家提出了很多改善教学的手段与方法，在文献中都有体

现。例如，谭浩强教授编写的《C高级语言程序设计(第二版)》教材中多处提到如何进行C

语言教学的问题。例如，对于break与continue等语句的使用，书中也以直接比较的方法展开

论述，具有良好的效果。此外，论文提出了在中央民族大学文科专业学生学过Ⅵsual FoxPro数

据库管理系统编程语言后，应如何运用比较教学法、开展相对复杂的C语言程序设计的教学工

作。这种方法当属借鉴不同计算机语言种类之间相似性的方法。但是，很多计算机、信息类专

业是直接开设C语言的课程，没有过渡的计算机语言课程，更多是讨论语言规则的差异，因而

这种方法的局限性比较大。

基于以上考虑，本文从如何将C语言的教学从语言规则的学习转化为以程序设计为中心的

程序编写工具的学习思路出发，从程序设计、可读性、健壮性等若干方面采用实例对比法进行

了探讨。本文从比较这一基本观点与方法出发，以实例代码的形式启发学生，破解其中的难题，

理解、运用C语言以及养成良好的编程习惯，为计算机语言的应用打下良好的基础。

2 对比实例

2．1 程序版式与可读性

C语言的编写版式非常灵活，可以一行中包含多个语句，多种语句之间可以嵌套。但是这

中国计算机教育与发展学术研讨会会议论文集(2010)

种灵活性给学生的直观感觉是可以随意写。教师反复强调缩进等编写格式的重要性，强调版式

对于代码可读性的重要。但学生在作业、上机调试程序中仍然有这样的问题。有些学生认为，

程序能运行正确即可，不用管那些格式问题。

笔者采用实例对比的方法，将一段具有良好编写风格的程序与较差编写风格的程序相比

较，请学生先阅读后指出差与好的原因与自身体会。这样能够有效地加深学生对于编码格式问

题的重视。程序代码1．a(见图1)与程序代码1．b(见图2)是比较代码片段的例子，主要功能

是逆序打印150～50之问能被2整除但不能被3整除的整数。

程序代码1．a

觚hl‘k<删o．h>

int删Iin(void)

{inti；for(i2150；i>=50；i．．)

{if(i％2一O＆＆i％3 1=0)

p渤堪”％d”，i)；}p血域’t、n”)；re衄n o；}

图1较差版式的实例

结果，从学生的代码阅读、回答讨论效果上来看，基本上对程序版式的重要性有了认识与

体会。能够总结出一些共性的规则要求，包括空行、代码行内的空格、符号对齐、长行的拆分

等内容。这样，有助于学生自我领会以及养成良好的习惯，从而有力地避免了学生对于程序版

2．2命名规则与可读性

程序的可读性还与命名规则有关，而命名规则在教材中的重视也不足。教材中的程序代码

变量等命名并未都做到“见名知意”，这给学生的理解带来了不少困难。在教材中，仅仅以“见

名知意”、“选择有含义的英文单词”等原则讲解知识至少有两个问题：一是大学一年级学生的

英文水平不足，单词量十分有限，所以在选择单词时无法写出；二是“见名知意”一词的表达

太过抽象，没有具体的措施与手段。

对于以上问题，笔者提出以下解决方案：一是建议使用中文的拼音替代英文名字，以方便

学生；二是介绍“匈牙利命名法”、“windows应用程序命名规则”、“uNIx应用程序命名规则”

等命名规则。例如，已知圆半径r和圆柱的高h，求圆周长、圆面积、圆球表面积、圆球体积、

圆柱体积。代码见程序代码2．a(见图3)与程序代码2．b(见图4)。很容易看到，加人命名规

则后，变量的名称确实能够做到“见名知意”。对于windows命名规则，这里不做详细说明，

请见相关文献。

C语言实例对比：从抽象概念到代码直观

图3无命名规则的实例

2．3程序编写与健壮性

学生编写程序往往更多考虑了程序执行结果是否正确，对于异常数据、规范数据以外的输

入等情况考虑不足。本文举了一个例子。即使用const增强程序健壮性。如果输入参数采用“指

针传递”，那么加const修饰可以防止意外地改动该指针，从而起到保护作用。例如，一个字符

串拷贝函数str copy：void str copy(char‘str destination，const char+str source)：其中str source

是输入参数，str destination是输出参数。给str source加上const修饰后，如果函数体内的语

句试图改动str sollrce的内容，编译器将指示错误，程序代码3．a如图5所示。

以正切函数的编写为例，进一步说明健壮性的重要性。学生编写好程序后，在没有assert

语句时，假定输入邻边长为O，显然程序结果将会出错。这就使学生意识到应当避免“输入错

误数据，输出垃圾数据”这种现象的发生。从而启发学生处理这种情形时，增加asseft语句，

一旦发生异常，则会报告错误。这个assen在同名的函数库中，一般C语言教学中并不提及。

但笔者认为直接将其运用到程序当中是十分有益的，能够使学生认识到细致考虑问题对于程序

员的重要性。函数代码为程序代码3．b(见图6)。代码中以const定义处理的精度，也是健壮性

的一种方式，避免了程序意外修改pfecision的可能。

中国计算机教育与发展学术研讨会会议论文集(2010)

图6使用assert增强健壮性的实例

在文件操作过程中，文件打开是否成功的检测也是健壮性的一个很好例子。如果不进行异

常检测，程序将出现不可预知的错误。因此，可以加入判断文件是否正常打开的检测机制。程

序代码3．c(见图7)对比了读取一个文件时，有或无检测打开文件的两种方式的例子，将它们

放在一个main()函数中，只为比较用。

图7文件打开检测健壮性的实例

2．4程序设计思路比较

初学c语言程序设计的学生，能够读懂一般的C程序代码。但是，学生自己动手完成从设

计思路到编写代码的过程却不易。学生变成了记忆代码的机器，复制教材、习题集中的“标准

答案”。当然，最初的记忆是有益和必要的，但长此以往，学生的创新能力、自主能力、编程能

力将逐渐退化，这对课程的学习大为不利。

因此，这就需要从观念与方法上进行改变。一方面，向学生传递一个概念：“条条大路通

罗马”。由于分析问题时的出发点与考虑的角度不同，对同一问题可以有多种可行有效的解答。

不需要、也不应当去刻意记住所谓的“标准答案”。

程序设计思路的形成是抽象的，有时甚至难以用自然语言表达。那么，如何启发学生自觉

C语言实例对比：从抽象概念到代码直观

思考，并抓住问题求解的一般思路与方法呢?笔者认为分析比较同一问题的多种求解思路与代

码是一种有效的方法。这如同高中数学、物理等课程中的一题多解，程序设计的一题多解也能

有效促进学生求解问题思路的形成。事实上，很多教材中关于for语句、while语句、do⋯while

语句等循环语句的讲解，采用同一问题多种语句的表达方式的方法，说明不同语句的特点。但

是，这还不够。

这里举两个例子，一个是教材第一章中的题目。这个题目要求打印3行内容，为了说明清

楚，将打印的内容加入论文，程序代码4．a如图8所示。这个问题，在讲解完第一章作业时，

同学们会有一个简单的解答。即直接输出三行内容。同学们在学完循环语句后，可以思考如何

将打印的星号换成其他的内容，如何改变打印字符的长度，并尝试用新的思路求解老问题。最

后以程序代码4．b(见图9)的代码请学生说明编写的思路。

图8需要打印输出的内容 图9简单问题的多种思路求解实例

第二个问题是统计一个字符串中数字、大小写字母、其他字符的个数。学生一般能够

给出类似于程序代码4．c(见图10)的解答。对于库函数的使用，他们较为生疏，不能很好

利用库函数中已经有的函数。通过程序代码4．d(见图11)，可以使同学们认识到库函数对

于简化程序设计的重要性。另外，for语句的使用也使得学生对于循环的使用有了更深的体会。

中国计算机教育与发展学术研讨会会议论文集(20lO)

图lO统计字符求解实例1

c高级语言程序设计的第一要素仍然是实践。虽然教师在教学中强调的问题、讲授的方法

等对于学生的学习有很大的影响。但是，不通过自己动手、思考、上机实践是无法学会C语言

程序设计这门课程的。即便学生的考分合格，也只是纸上谈兵。因此，鼓励学生动手、上机、

甚至访问国外的程序竞赛网站(如Topcoder等)以及鼓励优秀学生参加ACM程序设计竞赛等，

这些都是十分有益而必要的课堂补充。

C语言实例对比：从抽象概念到代码直观

[1】谭浩强．C高级语言程序设计[M】．2版．清华大学出版社，2006。

【2】陈良银，游洪跃，李旭伟．c语言程序设计【M】：c99版．清华大学出版社，2006．

【3】 Brian w K，Dennis M R．The C Progr啪ming Language【M】(2nd edition，1988)．机械工业出版社

[4】 潘京．用比较法进行文科C语言程序设计教学．中央民族大学学报【N】，v01．14，No．2，2005，5