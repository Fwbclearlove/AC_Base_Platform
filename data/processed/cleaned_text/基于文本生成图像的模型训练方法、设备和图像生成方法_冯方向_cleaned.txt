本发明涉及一种基于文本生成图像的模型训练方法、设备和图像生成方法。该方法包括以下步骤：

1. 对预设训练样本集合中的每个训练样本，基于其文本信息生成文本嵌入式表示，并将其输入图像生成模型，以生成对应的人造图像。同时，采用模态解纠缠方式提取人造图像和相应训练样本的真实图像的真实度参数，包括图像风格的视觉可信度、图-文相似度和图像的整体视觉可信度。

2. 基于人造图像，确定每个训练样本的正例和负例。

3. 利用图像生成模型，基于每个训练样本的正例、负例和真实图像对应的真实度参数，计算子损失函数和总体损失函数，包括内容损失函数、风格损失函数、生成器损失函数和判别器损失函数。

4. 利用总体损失函数，调整图像生成模型的参数。

该方法通过模态解纠缠提取真实度参数，提高了模型学习效率和图像生成效果。

在一种实施方式中，每个训练样本的正例和负例确定方法如下：将训练样本对应的人造图像作为正例，从非该样本对应的图像中选择一个作为负例。可以选择随机或错位选择的方式来挑选负例。

利用图像生成模型，基于每个训练样本的正例、负例和真实图像对应的真实度参数，计算子损失函数，进而计算总体损失函数。子损失函数包括内容损失函数、风格损失函数、生成器损失函数和判别器损失函数；总体损失函数包括判别器总体损失函数和生成器总体损失函数。

为提高模型参数调整的准确性，分别计算内容损失函数和风格损失函数，避免模态特定部分对模型训练的影响，同时控制图像风格。内容损失函数采用排序目标函数的三元组损失函数，意图是最大化匹配的图、文公共部分表示之间的相似度。风格损失函数基于噪声样本与图像的特定部分表征的一致性。

生成器损失函数和判别器损失函数分别计算，使用的特征是解纠缠后的图像特征。各损失函数线性组合构成总体损失函数，用于调整图像生成模型的参数。

基于上述训练样本对应的判别器总体损失函数和生成器总体损失函数，对图像生成模型的参数进行调整，从而实现图像生成模型的训练。

本发明还提供了一种基于文本生成图像的方法和模型训练设备，以及机器可读的存储介质，用于执行上述方法。